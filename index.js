// ----------------------------------------------. 
// Halo, dari Fann Davinci
// https://github.com/rifandavinci
// https://www.npmjs.com/~rifandavinci
// ----------------------------------------------. 


const _0x16595b=_0x426c;(function(_0x5db31e,_0x427d17){const _0x1f56f3=_0x426c,_0x4092c1=_0x5db31e();while(!![]){try{const _0x28e7d7=parseInt(_0x1f56f3(0x1cb))/0x1*(-parseInt(_0x1f56f3(0x1c4))/0x2)+-parseInt(_0x1f56f3(0x1b8))/0x3*(-parseInt(_0x1f56f3(0x1c7))/0x4)+parseInt(_0x1f56f3(0x1a9))/0x5*(-parseInt(_0x1f56f3(0x1b6))/0x6)+parseInt(_0x1f56f3(0x1cd))/0x7*(parseInt(_0x1f56f3(0x189))/0x8)+parseInt(_0x1f56f3(0x1bd))/0x9*(-parseInt(_0x1f56f3(0x1b4))/0xa)+-parseInt(_0x1f56f3(0x185))/0xb+-parseInt(_0x1f56f3(0x1bc))/0xc*(-parseInt(_0x1f56f3(0x1ba))/0xd);if(_0x28e7d7===_0x427d17)break;else _0x4092c1['push'](_0x4092c1['shift']());}catch(_0x3c0b3d){_0x4092c1['push'](_0x4092c1['shift']());}}}(_0x224c,0x6244d));const axios=require(_0x16595b(0x1bf)),fetch=require(_0x16595b(0x193));function _0x426c(_0x5dccbc,_0x22e1c8){const _0x224ca5=_0x224c();return _0x426c=function(_0x426c90,_0x37bc96){_0x426c90=_0x426c90-0x183;let _0x2d65ee=_0x224ca5[_0x426c90];return _0x2d65ee;},_0x426c(_0x5dccbc,_0x22e1c8);}class YouTubeScraper{constructor(){const _0x2f7ee2=_0x16595b;this['qualities']={'audio':{0x1:'32',0x2:'64',0x3:_0x2f7ee2(0x18a),0x4:_0x2f7ee2(0x1bb)},'video':{0x1:_0x2f7ee2(0x1c8),0x2:'240',0x3:_0x2f7ee2(0x19c),0x4:'480',0x5:_0x2f7ee2(0x1a7),0x6:_0x2f7ee2(0x192),0x7:'1440',0x8:_0x2f7ee2(0x18d)}};}async[_0x16595b(0x1a0)](_0x34c5f4){const _0x20182e=_0x16595b;try{const _0x32a653=_0x20182e(0x18c)+encodeURIComponent(_0x34c5f4),_0x3218ae=await fetch(_0x32a653,{'headers':{'User-Agent':_0x20182e(0x1ae)}}),_0x4e07f1=await _0x3218ae['text'](),_0x4df367=_0x4e07f1[_0x20182e(0x1ac)](/var ytInitialData\s*=\s*({.+?});/)?.[0x1];if(!_0x4df367)throw new Error(_0x20182e(0x1ad));const _0xbb0c5e=JSON[_0x20182e(0x1a5)](_0x4df367),_0xb409ab=[],_0x57bbf5=_0xbb0c5e[_0x20182e(0x1b3)]?.[_0x20182e(0x198)]?.[_0x20182e(0x199)]?.['sectionListRenderer']?.[_0x20182e(0x1b3)][0x0]?.[_0x20182e(0x1a8)]?.['contents'];if(!_0x57bbf5)throw new Error(_0x20182e(0x191));for(const _0x123fad of _0x57bbf5){if(_0x123fad[_0x20182e(0x19e)]){const _0x5642a2=_0x123fad[_0x20182e(0x19e)];_0xb409ab[_0x20182e(0x188)]({'title':_0x5642a2[_0x20182e(0x1c9)][_0x20182e(0x1c0)][0x0]['text'],'url':_0x20182e(0x1c5)+_0x5642a2['videoId'],'videoId':_0x5642a2[_0x20182e(0x1af)],'duration':_0x5642a2[_0x20182e(0x1be)]?.['simpleText']||_0x20182e(0x1a2),'views':_0x5642a2['viewCountText']?.[_0x20182e(0x1a1)]||_0x20182e(0x1b0),'uploaded':_0x5642a2[_0x20182e(0x1c3)]?.[_0x20182e(0x1a1)]||'Unknown','thumbnail':_0x5642a2[_0x20182e(0x1b9)][_0x20182e(0x186)][0x0][_0x20182e(0x195)],'channel':{'name':_0x5642a2[_0x20182e(0x19a)]?.[_0x20182e(0x1c0)][0x0]?.['text']||_0x20182e(0x1c6),'url':_0x20182e(0x19f)+(_0x5642a2[_0x20182e(0x19a)]?.[_0x20182e(0x1c0)][0x0]?.[_0x20182e(0x1b2)]?.[_0x20182e(0x18e)]?.[_0x20182e(0x184)]?.[_0x20182e(0x195)]||'')}});if(_0xb409ab[_0x20182e(0x18b)]>=0xa)break;}}return{'success':!![],'data':_0xb409ab};}catch(_0x32cddd){return{'success':![],'message':_0x32cddd[_0x20182e(0x1ca)]};}}async #fetchSaveTube(_0x6f7aa9,_0x39a76a,_0x244d88={}){const _0xe8b97b=_0x16595b,_0x38ad34={'accept':_0xe8b97b(0x1b1),'authority':_0xe8b97b(0x1b5)+_0x39a76a+_0xe8b97b(0x1ab),'referer':_0xe8b97b(0x1aa),'origin':_0xe8b97b(0x1aa),'user-agent':'Postify/1.0.0','Content-Type':_0xe8b97b(0x18f)};try{const _0x2f580f=await axios[_0xe8b97b(0x190)](_0x6f7aa9,_0x244d88,{'headers':_0x38ad34});return _0x2f580f[_0xe8b97b(0x1cc)];}catch(_0x19b2b9){throw _0x19b2b9;}}async[_0x16595b(0x183)](_0x4dba9d,_0x4cdb82={'type':_0x16595b(0x197),'quality':_0x16595b(0x1c1)}){const _0x5adf2a=_0x16595b;try{const _0x37da6=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/|youtube\.com\/(?:v|e(?:mbed)?)\/|youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})|(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/,_0x35cd50=_0x4dba9d[_0x5adf2a(0x1ac)](_0x37da6);if(!_0x35cd50)throw new Error(_0x5adf2a(0x19d));const _0xe00f3e=_0x4cdb82[_0x5adf2a(0x1a3)]==='audio',_0x1082c5={'144p':'1','240p':'2','360p':'3','480p':'4','720p':'5','1080p':'6'},_0x58ee8c=Math[_0x5adf2a(0x1a4)](Math['random']()*0xb)+0x33,_0x47ac4a='cdn'+_0x58ee8c+'.savetube.su',_0x4edce5=await this.#fetchSaveTube(_0x5adf2a(0x196)+_0x47ac4a+_0x5adf2a(0x19b),_0x58ee8c,{'url':_0x4dba9d}),_0x59cf76=_0xe00f3e?'audio':_0x5adf2a(0x197),_0x7e4e7b=_0xe00f3e?'3':_0x1082c5[_0x4cdb82[_0x5adf2a(0x1a6)]]||'5',_0x4b655a=await this.#fetchSaveTube(_0x5adf2a(0x196)+_0x47ac4a+'/download',_0x58ee8c,{'downloadType':_0x59cf76,'quality':this['qualities'][_0x59cf76][_0x7e4e7b],'key':_0x4edce5['data'][_0x5adf2a(0x187)]});return{'title':_0x4edce5[_0x5adf2a(0x1cc)][_0x5adf2a(0x1c9)],'duration':_0x4edce5[_0x5adf2a(0x1cc)]['durationLabel'],'thumbnail':_0x4edce5[_0x5adf2a(0x1cc)][_0x5adf2a(0x1b9)],'downloadUrl':_0x4b655a[_0x5adf2a(0x1cc)][_0x5adf2a(0x194)],'quality':_0x4cdb82['quality']||'720p','type':_0x4cdb82[_0x5adf2a(0x1a3)]};}catch(_0x11df82){throw new Error(_0x5adf2a(0x1b7)+_0x11df82[_0x5adf2a(0x1ca)]);}}}function _0x224c(){const _0xbb8ff2=['192','55800HtghfN','171bSVifS','lengthText','axios','runs','720p','exports','publishedTimeText','20758rWTYVA','https://www.youtube.com/watch?v=','Unknown','4fySEaB','144','title','message','11zrSBWe','data','397859uoLwwP','download','webCommandMetadata','7152244SJNwRh','thumbnails','key','push','24gEcbxf','128','length','https://www.youtube.com/results?search_query=','2160','commandMetadata','application/json','post','Tidak\x20ada\x20hasil\x20pencarian','1080','node-fetch','downloadUrl','url','https://','video','twoColumnSearchResultsRenderer','primaryContents','ownerText','/info','360','URL\x20YouTube\x20tidak\x20valid','videoRenderer','https://www.youtube.com','search','simpleText','Live','type','floor','parse','quality','720','itemSectionRenderer','5JDsPzo','https://ytshorts.savetube.me/','.savetube.su','match','Data\x20YouTube\x20tidak\x20ditemukan','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36','videoId','0\x20views','*/*','navigationEndpoint','contents','44710pcKEVZ','cdn','2998722IbAHrX','Download\x20gagal:\x20','209571fMmUqt','thumbnail','4225QfmcFo'];_0x224c=function(){return _0xbb8ff2;};return _0x224c();}module[_0x16595b(0x1c2)]=YouTubeScraper;
